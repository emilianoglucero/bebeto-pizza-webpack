<html>
  <head>
    <title>‚ô§üí£ ùìíÔΩèƒπœÉ≈ò„ÑñÔº•ùí∂ ·ªÆŒ∑ empresario üëçüíº</title>
    <link href="../../favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- meta tags -->
    <meta
      name="description"
      content="Colorea un empresario en l√≠nea con nuestra herramienta interactiva. Elige entre diferentes colores y tama√±os de pincel para dar vida a tu obra de arte."
    />
    <meta
      name="keywords"
      content="colorear, empresario, arte en l√≠nea, herramienta de dibujo, pincel, creatividad"
    />
    <meta name="author" content="Emi" />
    <meta name="robots" content="index, follow" />
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://bebeto-pizza.vercel.app/dibuja.html"
    />
    <meta property="og:title" content="‚ô§üí£ ùìíÔΩèƒπœÉ≈ò„ÑñÔº•ùí∂ ·ªÆŒ∑ empresario üëçüíº" />
    <meta
      property="og:description"
      content="Colorea un empresario en l√≠nea con nuestra herramienta interactiva. Elige entre diferentes colores y tama√±os de pincel para dar vida a tu obra de arte."
    />
    <meta
      property="og:image"
      content="https://bebeto-pizza.vercel.app/meta/dibuja/dibuja.jpg"
    />
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://bebeto-pizza.vercel.app/dibuja.html"
    />
    <meta
      property="twitter:title"
      content="‚ô§üí£ ùìíÔΩèƒπœÉ≈ò„ÑñÔº•ùí∂ ·ªÆŒ∑ empresario üëçüíº"
    />
    <meta
      property="twitter:description"
      content="Colorea un empresario en l√≠nea con nuestra herramienta interactiva. Elige entre diferentes colores y tama√±os de pincel para dar vida a tu obra de arte."
    />
    <meta
      property="twitter:image"
      content="https://bebeto-pizza.vercel.app/meta/dibuja/dibuja.jpg"
    />

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.4/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.8/addons/p5.dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.4/addons/p5.sound.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-114029730-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-114029730-1");
    </script>
  </head>

  <body>
    <div class="main-container">
      <div class="kitty-image-container"></div>
      <div class="content-container">
        <div class="titles">
          <h1 id="color-title">
            <div id="titulo-1">c</div>
            <div id="titulo-2">0</div>
            <div id="titulo-3">l</div>
            <div id="titulo-4">0</div>
            <div id="titulo-5">R</div>
            <div id="titulo-6">e</div>
            <div id="titulo-7">√Å</div>
          </h1>
          <div id="secondary-title">üí∏ un empresario üí∏</div>
        </div>

        <div id="canvas-container"></div>
        <div id="loading-paint">cargando...</div>

        <div class="paint-options">
          <div class="circles">
            <div
              class="circle"
              data-cursor="./dibuja/assets/img/gifs/cursor/brush-black.png"
              id="circle-black"
            ></div>
            <div
              class="circle"
              data-cursor="./dibuja/assets/img/cursor/brush-blue.png"
              id="circle-blue"
            ></div>
            <div
              class="circle"
              data-cursor="./dibuja/assets/img/cursor/brush-green.png"
              id="circle-green"
            ></div>
            <div
              class="circle"
              data-cursor="./dibuja/assets/img/cursor/brush-yellow.png"
              id="circle-yellow"
            ></div>
            <div
              class="circle"
              data-cursor="./dibuja/assets/img/cursor/brush-red.png"
              id="circle-red"
            ></div>
          </div>
          <div class="select-brush-size">
            <label for="stroke-width">tama√±o de pincel:</label>
            <select id="stroke-width">
              <option value="1">1</option>
              <option value="5">2</option>
              <option value="10" selected>3</option>
              <option value="20">4</option>
              <option value="30">5</option>
              <option value="1000">
                a caputo en la plaza lo tienen que matar
              </option>
              <option value="40">6</option>
            </select>
          </div>
        </div>

        <div class="description-container">
          <p class="description"></p>
        </div>

        <div class="kitty-image" id="kitty-image">
          <img
            src="./assets/img/gifs/kitty-hole.gif"
            alt="a cute kitty looking through a hole"
          />
        </div>

        <div class="page-explanation-container">
          <p class="page-explanation">
            ‚ûπ colorea un empresario sosteniendo el click con el mouse como en el
            paint o con el dedo si estas en el celu üòù <br />
            ‚ûπ elegite el color y el tama√±o del pincel <br />
            ‚ûπ cuando termines, venite para ac√° y apreta el boton de publicar mi
            dibujo y listoooo!
            <br />
            ‚ûπ si queres ver los dibujos de los demas, scrollea para abajo ü§†
            <br />
            ‚ûπ refresc√° la pagina si queres empezar de nuevo o elegir otro
            empresario ü§™
          </p>
        </div>
        <div class="save-button">
          <button id="save" onclick="saveMyCanvas()">publicar mi dibujo</button>
        </div>

        <div id="loading-post-paint" style="display: none">
          cargando...................................
        </div>

        <div class="paint-container"></div>
      </div>
    </div>

    <script>
      $.ajax({
        url: "https://bebeto-pizza-backend.vercel.app/api/userPainting", // replace with your API endpoint
        method: "GET",
        success: function (data) {
          // list all the elements in data and sort them by date
          data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
          let paintingsList = "";
          data.forEach((item, index) => {
            paintingsList += `
    <div class="paint-box">
      <div class="img">
        <a target="_blank" href="${item.paintDataUrl}">
          <img class="lazy" data-src="${
            item.paintDataUrl
          }" alt="jejejejj" width="300" height="200">
        </a>
        <div class="desc">
        autor: ${item.artistName} <br>
        fecha y hora: ${new Date(item.createdAt).toLocaleDateString("es-ES", {
          day: "2-digit",
          month: "2-digit",
          year: "numeric",
        })}
        </div>
      </div>
    </div>
  `;
          });
          $(".paint-container").html(paintingsList);

          // Lazy loading
          let lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));

          if ("IntersectionObserver" in window) {
            let lazyImageObserver = new IntersectionObserver(function (
              entries,
              observer
            ) {
              entries.forEach(function (entry) {
                if (entry.isIntersecting) {
                  let lazyImage = entry.target;
                  lazyImage.src = lazyImage.dataset.src;
                  lazyImage.classList.remove("lazy");
                  lazyImageObserver.unobserve(lazyImage);
                }
              });
            });

            lazyImages.forEach(function (lazyImage) {
              lazyImageObserver.observe(lazyImage);
            });
          } else {
            // Possibly fall back to a more compatible method here
          }
        },
      });
    </script>
  </body>
</html>
